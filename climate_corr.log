2025-04-21 11:28:05 - INFO - --- Starting Climate Correlation Script (Unified Config Mode) ---
2025-04-21 11:28:05 - INFO - Base output directory: climate_corr_results
2025-04-21 11:28:05 - INFO - --- Processing Site: 12422500 (Spokane River at Spokane, WA) ---
2025-04-21 11:28:05 - INFO - Fetching Discharge: 12422500 (2000-01-01 to 2025-04-21)...
2025-04-21 11:28:06 - INFO - Discharge fetch OK: 12422500.
2025-04-21 11:28:06 - INFO - Parsing discharge: 12422500...
2025-04-21 11:28:11 - INFO - Discharge DF created: 12422500 (9145 rows).
2025-04-21 11:28:11 - INFO - Skipped 97 discharge points: 12422500.
2025-04-21 11:28:11 - INFO - Fetching climate near Lat=47.6593, Lon=-117.4491 (2000-01-01 to 2025-04-21)...
2025-04-21 11:28:11 - INFO - Climate data fetched successfully (9243 rows).
2025-04-21 11:28:11 - INFO - Merging data for site 12422500...
2025-04-21 11:28:11 - INFO - Merged DataFrame for analysis shape: (9145, 3)
2025-04-21 11:28:11 - INFO - Performing correlation analysis...
2025-04-21 11:28:11 - INFO - Correlation Matrix calculated.
2025-04-21 11:28:11 - INFO - Calculating p-values...
2025-04-21 11:28:11 - INFO - P-values calculated.
2025-04-21 11:28:11 - INFO - Calculating lagged precipitation correlation...
2025-04-21 11:28:11 - INFO - Lag-1 precip corr calculated (R=0.061, p=0.000).
2025-04-21 11:28:11 - INFO - Analyzing temperature trend: 12422500...
2025-04-21 11:28:11 - INFO - Calculating annual means for Temp_C...
2025-04-21 11:28:11 - INFO - Calculated annual means for Temp_C (26 years).
2025-04-21 11:28:11 - INFO - Performing trend analysis for Annual Temp...
2025-04-21 11:28:11 - INFO -   Annual Temp LinReg: p=0.6811, slope=-0.02
2025-04-21 11:28:11 - INFO -   Annual Temp MK: Trend=increasing, p=0.0195, SenSlope=0.06
2025-04-21 11:28:11 - INFO - Generating correlation plots for site 12422500...
2025-04-21 11:28:12 - INFO - Correlation summary plot saved: climate_corr_results\12422500\USGS_12422500_climate_correlation_summary.png
2025-04-21 11:28:12 - INFO - --- Finished Processing Site: 12422500 ---
2025-04-21 11:28:12 - INFO - --- Processing Site: 12422990 (HANGMAN CREEK AT STATE LINE ROAD NEAR TEKOA, WA) ---
2025-04-21 11:28:12 - INFO - Fetching Discharge: 12422990 (2005-01-01 to 2025-04-21)...
2025-04-21 11:28:12 - INFO - Discharge fetch OK: 12422990.
2025-04-21 11:28:12 - INFO - Parsing discharge: 12422990...
2025-04-21 11:28:16 - INFO - Discharge DF created: 12422990 (6405 rows).
2025-04-21 11:28:16 - INFO - Skipped 101 discharge points: 12422990.
2025-04-21 11:28:16 - INFO - Fetching climate near Lat=47.2027, Lon=-117.0407 (2005-01-01 to 2025-04-21)...
2025-04-21 11:28:16 - WARNING - Meteostat returned no data for this location/period.
2025-04-21 11:28:16 - WARNING - Climate data fetch failed for 12422990. Correlation analysis skipped.
2025-04-21 11:28:16 - INFO - Generating correlation plots for site 12422990...
2025-04-21 11:28:16 - INFO - Correlation summary plot saved: climate_corr_results\12422990\USGS_12422990_climate_correlation_summary.png
2025-04-21 11:28:16 - INFO - --- Finished Processing Site: 12422990 ---
2025-04-21 11:28:16 - INFO - --- Processing Site: 12426000 (SPOKANE RIVER BELOW NINE MILE DAM AT SPOKANE, WA) ---
2025-04-21 11:28:16 - INFO - Fetching Discharge: 12426000 (1990-01-01 to 2025-04-21)...
2025-04-21 11:28:17 - INFO - Discharge fetch OK: 12426000.
2025-04-21 11:28:17 - INFO - Parsing discharge: 12426000...
2025-04-21 11:28:19 - INFO - Discharge DF created: 12426000 (3071 rows).
2025-04-21 11:28:19 - INFO - Skipped 174 discharge points: 12426000.
2025-04-21 11:28:19 - INFO - Fetching climate near Lat=47.7804, Lon=-117.5455 (1990-01-01 to 2025-04-21)...
2025-04-21 11:28:19 - INFO - Climate data fetched successfully (12895 rows).
2025-04-21 11:28:19 - INFO - Merging data for site 12426000...
2025-04-21 11:28:19 - INFO - Merged DataFrame for analysis shape: (3071, 3)
2025-04-21 11:28:19 - INFO - Performing correlation analysis...
2025-04-21 11:28:19 - INFO - Correlation Matrix calculated.
2025-04-21 11:28:19 - INFO - Calculating p-values...
2025-04-21 11:28:19 - INFO - P-values calculated.
2025-04-21 11:28:19 - INFO - Calculating lagged precipitation correlation...
2025-04-21 11:28:19 - INFO - Lag-1 precip corr calculated (R=0.115, p=0.000).
2025-04-21 11:28:19 - INFO - Analyzing temperature trend: 12426000...
2025-04-21 11:28:19 - INFO - Calculating annual means for Temp_C...
2025-04-21 11:28:19 - INFO - Calculated annual means for Temp_C (9 years).
2025-04-21 11:28:19 - INFO - Performing trend analysis for Annual Temp...
2025-04-21 11:28:19 - INFO -   Annual Temp LinReg: p=0.6941, slope=0.08
2025-04-21 11:28:19 - INFO -   Annual Temp MK: Trend=no trend, p=0.4655, SenSlope=0.15
2025-04-21 11:28:19 - INFO - Generating correlation plots for site 12426000...
2025-04-21 11:28:20 - INFO - Correlation summary plot saved: climate_corr_results\12426000\USGS_12426000_climate_correlation_summary.png
2025-04-21 11:28:20 - INFO - --- Finished Processing Site: 12426000 ---
2025-04-21 11:28:20 - INFO - --- Climate Correlation Script Finished ---
